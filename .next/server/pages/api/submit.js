"use strict";(()=>{var e={};e.id=2159,e.ids=[2159],e.modules={9993:e=>{e.exports=require("googleapis")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9926:e=>{e.exports=import("zod")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},5010:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.r(t),n.d(t,{config:()=>u,default:()=>c,routeModule:()=>l});var r=n(1802),s=n(7153),o=n(6249),i=n(2869),m=e([i]);i=(m.then?(await m)():m)[0];let c=(0,o.l)(i,"default"),u=(0,o.l)(i,"config"),l=new r.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/submit",pathname:"/api/submit",bundlePath:"",filename:""},userland:i});a()}catch(e){a(e)}})},2869:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.r(t),n.d(t,{default:()=>i});var r=n(9926),s=n(9993),o=e([r]);async function i(e,t){if("POST"!==e.method)return t.status(405).json({message:`Method ${e.method} Not Allowed`});let n={private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCvEt/U7haFLj/i\nxchrQcCSF0DHgqYh/yfoiAKmqTnzNTGtDMGcjahq9EPtwDP4QxMbFuPwYqLI8Eph\ntuI4dfazbABffvU9zdNc8k+YYpwbP2R1mPWYaYdRN5JZJh8+k+sfp1Zau/e6QXSm\n3QybHciRGL7Q5Eb0WNJlmV/4LVDpBW/OCQ7YdeYz3/lFeuaIdrcJrARdw0sP5wEh\n5j4qrKD2aMZmQOI4NYpcGOYtV0hucvbBmwXD8vs+r33/SFqy9SwKZZLd6mwhbF7u\n4lGayD/A1+U3x01fww30EXwm9Xcq0jVJrYf1UiADlAsV0+c3HayIjm3gpzBGbpA5\n/6pCaliXAgMBAAECggEACg2c6DOML08F4LlEj96ONs76a5p1r/UT1X2RHWd3sIVC\njX8MIFFegiNcDtGr8LRO60E0vi+2/+MTrZApZff/V+bUD9r3LS3d1o2ctkTo7upq\n4KymybI7NxXOvXf71x8tiYgVfg9WI3SXxLv9YDjlGzcSQGXwKlIHy6+NFby205j7\nT5GyWkEMHPn8oMDED4bXCqp9SoJgkLNpv9gPOomG15MjrKBW6mn6Ltr/tatBhr5t\nvJ8M1l+Lzp37AsF6UsuOPx94X723Vwhg3qolV2xdzFxSGkQIfRJfz9eGAN6A7sKG\nBv1LTJXAUEY+jRuvoswRbSZPs3rQw1HJpKgENERePQKBgQDUeI10J4EeFRhBM8V3\n3bQbYwvOKBTir9Y8f+TiHkzqGhXB07StZ46qfk1Y0kV+5N1jAeWgUOf2mo6jRqeA\ntwx2AqlQdx4FqQBZNr1riWjJxxywUmq0owfAhkkuIFluhzyFnyoVP36ye6qDx81W\nk5r6Y6xHzrq9b7YafKXEbbtwMwKBgQDS8PRSF1BjD2ETP2pYTQAvz09I7G8F/BxG\nSsvP0+p0GbRygrlaFt4/Uv9QqKscKvwC2DSWEMgOJZMg3Bc7EJ4M4vI0KAE+YvHx\nm6rqRiBFRHnulDmyJrRDT/bpp6OF8bw68nuef+fQrtiU6AMgcFI2axOEofrafJca\nUTv9XKXCDQKBgCEiG4z9jBkQ2RNx611h6XBL5c9kWL1xBkuw9hR8/SmUn8f2J7rS\n52CXCaDMSaIcNpn19cUmWMYQHCZCImTkJsFQcO7nZHsle7Rt4OQgLYMp1cN5VsKM\nmezgBBF5Yfjmhf2gcIOXvz4+Ir0iL1dM9WIOoRMhneVkwlUnEwKqygwZAoGAZL2k\nwWvW/WhD4VBg9ojXtP2aDOa14zLTQhLIoZnAl/AKyMF7yfWv8KgvvRLAnXQ95RHi\nk2SyVmdFi+Twx0mZYegk6hnM9kGE8PF6P+Z71PjuDq4Fm/p2DsuqzU49f2PClJhn\nx3uod3Z5gywHCj/6U3jx2l8Nkbj85Rm0v7y2gSUCgYEAip2wxd0SUBb1+iNhiIJQ\n2hQMMSW2bzALqdR1zW0NbbfdAmgwaLlKKESLTztLzdbZJ9fNi1QjhxkpNmWjwFQy\nfKwjunauv6O/MHwjjaWERBBExVAelMKaHPEcmj6e22GM+LUyDnjFgpr9Cy1bLiz5\nwHxj+45mjax/GAlhhSiiuXc=\n-----END PRIVATE KEY-----\n",client_email:"servizio@fraud-recovery.iam.gserviceaccount.com"},a=async e=>{let a=new s.google.auth.JWT(n.client_email,null,n.private_key,["https://www.googleapis.com/auth/spreadsheets"]),r=s.google.sheets({version:"v4",auth:a});try{await a.authorize();let t=r.spreadsheets.values.append({spreadsheetId:"1ewNAOfML7IyRxEb2p4nh41oQXTPuUWPWU8ySmJ630FA",range:"A:B",valueInputOption:"RAW",insertDataOption:"INSERT_ROWS",resource:{values:[[e.name,e.email,e.phone_number,e.scam_type,e.amount_invested,e.message]]}});await t.then(e=>(console.log(e),e))}catch(e){console.log(e),t.status(500).json({message:"Internal server error"})}},o=r.z.object({name:r.z.string().trim().min(1,"Name must be between 1 and 32 characters").max(32).regex(/^[A-Za-z\s]+$/,"Name must contain only characters"),last_name:r.z.string().trim().min(1,"Last name must be between 1 and 32 characters").max(32).regex(/^[A-Za-z\s]+$/,"Last name must contain only characters"),phone_number:r.z.string().min(5,"Invalid phone number"),email:r.z.string().email("Invalid email address"),scam_type:r.z.enum(["binary_options","cryptocurrency","forex","stock_trading","property_scam","romance_scam","other"],"Invalid scam type"),amount_invested:r.z.string(),message:r.z.string().trim().max(256,"Message must not exceed 256 characters")});try{let n=o.parse(e.body),r=await a(n);console.log(r),t.status(200).json({message:"Form data received."})}catch(e){if(e instanceof r.z.ZodError)return t.status(400).json({errors:e.errors});console.error(e),t.status(500).json({message:"Internal server error"})}}r=(o.then?(await o)():o)[0],a()}catch(e){a(e)}})},7153:(e,t)=>{var n;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return n}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}))},1802:(e,t,n)=>{e.exports=n(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var n=t(t.s=5010);module.exports=n})();